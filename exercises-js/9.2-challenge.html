<!DOCTYPE html>
<html>
  <head>
    <title>DOM projects</title>
  </head>
  <body>
    <p>YouTube Subscribe Button</p>
    <button
      class="subsc"
      onclick="
      subscribe();
    "
    >
      Subscribe
    </button>

    <p>Amazon Shipping Calculator</p>
    <input
      type="text"
      class="cost-input"
      placeholder="Cost of Order"
      onkeydown="
      HandleCostKeydown(event);
    "
    />
    <button
      onclick="
    calculateTotal(); 
    "
    >
      Calculate
    </button>
    <p class="total-cost"></p>
    <p class="error-msg" style="color: red"></p>
    <!------------------------------------------------------------------------------------------------------------>
    <input
      type="text"
      placeholder="name..."
      class="js-input"
      onkeyup="
    const inputElement = document.querySelector('.js-input');

    document.querySelector('.js-msg').innerHTML = inputElement.value;
    
    "
    />
    <p class="js-msg"></p>

    <!-------------------------------------------------------------------------------------------------------------->

    <script>
      function HandleCostKeydown(event) {
        // console.log(event.key);
        if (event.key === "Enter") {
          calculateTotal();
        }
      }
      /*
       * Issue = the calculation is inaccurate.
       * Fix = calculate the number in cents and then
       *       convert back to dollars at the end.
       */
      function calculateTotal() {
        const inputElement = document.querySelector(".cost-input");

        let cost = Number(inputElement.value) * 100; // Convert dollars to cents

        if (cost < 0) {
          document.querySelector(".error-msg").innerHTML =
            "cannot be less than $0"; // Display error message if cost is less than $0
          return; //it ends function early in order to not executes rest of code
        }

        if (cost < 4000) {
          cost = cost + 1000; // add $10 for shipping, expressed as 1000 cents
        }

        document.querySelector(".total-cost").innerHTML = `Total Cost: $${
          cost / 100
        }`; //convert back to dollar by dividing 100
      }
      function subscribe() {
        const btnSubsc = document.querySelector(".subsc");

        if (btnSubsc.innerText === "Subscribe") {
          btnSubsc.innerHTML = "Subscribed";
        } else {
          btnSubsc.innerHTML = "Subscribe";
        }
      }
    </script>
  </body>
</html>
